<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#1e293b">
    Plate Restaurant System - Architecture Overview
  </text>
  <text x="600" y="55" text-anchor="middle" font-family="Arial" font-size="14" fill="#64748b">
    Next.js 15 + Supabase | Luis's Modular Assembly Pattern | Production Ready
  </text>
  
  <!-- Layer 1: Frontend (Next.js 15) -->
  <rect x="50" y="100" width="300" height="200" rx="10" fill="#3b82f6" stroke="#1d4ed8" stroke-width="2"/>
  <text x="200" y="125" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">
    Frontend Layer
  </text>
  <text x="200" y="145" text-anchor="middle" font-family="Arial" font-size="14" fill="#e0e7ff">
    Next.js 15 App Router
  </text>
  
  <!-- Frontend Components -->
  <rect x="70" y="160" width="80" height="30" rx="5" fill="#60a5fa" stroke="#3b82f6"/>
  <text x="110" y="180" text-anchor="middle" font-family="Arial" font-size="10" fill="white">KDS Layout</text>
  
  <rect x="160" y="160" width="80" height="30" rx="5" fill="#60a5fa" stroke="#3b82f6"/>
  <text x="200" y="180" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Voice UI</text>
  
  <rect x="250" y="160" width="80" height="30" rx="5" fill="#60a5fa" stroke="#3b82f6"/>
  <text x="290" y="180" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Analytics</text>
  
  <rect x="70" y="200" width="110" height="30" rx="5" fill="#60a5fa" stroke="#3b82f6"/>
  <text x="125" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Floor Plan</text>
  
  <rect x="190" y="200" width="110" height="30" rx="5" fill="#60a5fa" stroke="#3b82f6"/>
  <text x="245" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Server Tools</text>
  
  <!-- Performance Stats -->
  <text x="200" y="260" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#1e293b">
    Bundle: 289MB → 15.5MB (95% ↓)
  </text>
  <text x="200" y="280" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    Virtual Scrolling | Memoization
  </text>
  
  <!-- Layer 2: API Routes -->
  <rect x="400" y="100" width="300" height="200" rx="10" fill="#10b981" stroke="#059669" stroke-width="2"/>
  <text x="550" y="125" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">
    API Layer
  </text>
  <text x="550" y="145" text-anchor="middle" font-family="Arial" font-size="14" fill="#d1fae5">
    Server Actions + REST
  </text>
  
  <!-- API Endpoints -->
  <rect x="420" y="160" width="80" height="30" rx="5" fill="#34d399" stroke="#10b981"/>
  <text x="460" y="180" text-anchor="middle" font-family="Arial" font-size="10" fill="white">/transcribe</text>
  
  <rect x="510" y="160" width="80" height="30" rx="5" fill="#34d399" stroke="#10b981"/>
  <text x="550" y="180" text-anchor="middle" font-family="Arial" font-size="10" fill="white">/kds</text>
  
  <rect x="600" y="160" width="80" height="30" rx="5" fill="#34d399" stroke="#10b981"/>
  <text x="640" y="180" text-anchor="middle" font-family="Arial" font-size="10" fill="white">/metrics</text>
  
  <rect x="420" y="200" width="110" height="30" rx="5" fill="#34d399" stroke="#10b981"/>
  <text x="475" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="white">/health</text>
  
  <rect x="540" y="200" width="110" height="30" rx="5" fill="#34d399" stroke="#10b981"/>
  <text x="595" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="white">/auth-check</text>
  
  <!-- API Performance -->
  <text x="550" y="260" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#1e293b">
    Response Time: &lt;500ms
  </text>
  <text x="550" y="280" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    Voice Processing | Bulk Operations
  </text>
  
  <!-- Layer 3: Real-Time Layer -->
  <rect x="750" y="100" width="300" height="200" rx="10" fill="#f59e0b" stroke="#d97706" stroke-width="2"/>
  <text x="900" y="125" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">
    Real-Time Layer
  </text>
  <text x="900" y="145" text-anchor="middle" font-family="Arial" font-size="14" fill="#fef3c7">
    Supabase Subscriptions
  </text>
  
  <!-- Real-Time Components -->
  <rect x="770" y="160" width="80" height="30" rx="5" fill="#fbbf24" stroke="#f59e0b"/>
  <text x="810" y="180" text-anchor="middle" font-family="Arial" font-size="10" fill="#92400e">Orders</text>
  
  <rect x="860" y="160" width="80" height="30" rx="5" fill="#fbbf24" stroke="#f59e0b"/>
  <text x="900" y="180" text-anchor="middle" font-family="Arial" font-size="10" fill="#92400e">KDS Updates</text>
  
  <rect x="950" y="160" width="80" height="30" rx="5" fill="#fbbf24" stroke="#f59e0b"/>
  <text x="990" y="180" text-anchor="middle" font-family="Arial" font-size="10" fill="#92400e">Analytics</text>
  
  <rect x="770" y="200" width="110" height="30" rx="5" fill="#fbbf24" stroke="#f59e0b"/>
  <text x="825" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="#92400e">Connection Pool</text>
  
  <rect x="890" y="200" width="110" height="30" rx="5" fill="#fbbf24" stroke="#f59e0b"/>
  <text x="945" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="#92400e">Auto Reconnect</text>
  
  <!-- Real-Time Performance -->
  <text x="900" y="260" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#1e293b">
    Uptime: 99%+ | Zero Leaks
  </text>
  <text x="900" y="280" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    Jittered Backoff | Deduplication
  </text>
  
  <!-- Layer 4: Luis's Modular Assembly -->
  <rect x="150" y="350" width="450" height="150" rx="10" fill="#8b5cf6" stroke="#7c3aed" stroke-width="2"/>
  <text x="375" y="375" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">
    Luis's Modular Assembly Layer
  </text>
  <text x="375" y="395" text-anchor="middle" font-family="Arial" font-size="14" fill="#ede9fe">
    lib/modassembly/supabase/
  </text>
  
  <!-- Modular Components -->
  <rect x="170" y="410" width="80" height="30" rx="5" fill="#a78bfa" stroke="#8b5cf6"/>
  <text x="210" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#4c1d95">auth/</text>
  
  <rect x="260" y="410" width="80" height="30" rx="5" fill="#a78bfa" stroke="#8b5cf6"/>
  <text x="300" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#4c1d95">database/</text>
  
  <rect x="350" y="410" width="80" height="30" rx="5" fill="#a78bfa" stroke="#8b5cf6"/>
  <text x="390" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#4c1d95">kds/</text>
  
  <rect x="440" y="410" width="80" height="30" rx="5" fill="#a78bfa" stroke="#8b5cf6"/>
  <text x="480" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#4c1d95">client.ts</text>
  
  <rect x="530" y="410" width="80" height="30" rx="5" fill="#a78bfa" stroke="#8b5cf6"/>
  <text x="570" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#4c1d95">server.ts</text>
  
  <!-- Modular Principles -->
  <text x="375" y="460" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#1e293b">
    Domain Separation | Server-First Auth | Single Responsibility
  </text>
  <text x="375" y="480" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    No Cross-Dependencies | Type Safety | Security-First
  </text>
  
  <!-- Layer 5: Database Layer -->
  <rect x="650" y="350" width="400" height="150" rx="10" fill="#ef4444" stroke="#dc2626" stroke-width="2"/>
  <text x="850" y="375" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">
    Database Layer
  </text>
  <text x="850" y="395" text-anchor="middle" font-family="Arial" font-size="14" fill="#fecaca">
    Supabase PostgreSQL + RLS
  </text>
  
  <!-- Database Tables -->
  <rect x="670" y="410" width="80" height="30" rx="5" fill="#f87171" stroke="#ef4444"/>
  <text x="710" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f1d1d">orders</text>
  
  <rect x="760" y="410" width="80" height="30" rx="5" fill="#f87171" stroke="#ef4444"/>
  <text x="800" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f1d1d">kds_routing</text>
  
  <rect x="850" y="410" width="80" height="30" rx="5" fill="#f87171" stroke="#ef4444"/>
  <text x="890" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f1d1d">tables</text>
  
  <rect x="940" y="410" width="80" height="30" rx="5" fill="#f87171" stroke="#ef4444"/>
  <text x="980" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f1d1d">profiles</text>
  
  <!-- Database Performance -->
  <text x="850" y="460" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#1e293b">
    Query Time: &lt;10ms | Cache Hit: 80-90%
  </text>
  <text x="850" y="480" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    Optimized Indexes | RLS Security | UUID Consistency
  </text>
  
  <!-- External Services -->
  <rect x="50" y="550" width="200" height="100" rx="10" fill="#64748b" stroke="#475569" stroke-width="2"/>
  <text x="150" y="575" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">
    External Services
  </text>
  
  <rect x="70" y="590" width="80" height="25" rx="3" fill="#94a3b8" stroke="#64748b"/>
  <text x="110" y="607" text-anchor="middle" font-family="Arial" font-size="10" fill="#1e293b">OpenAI Whisper</text>
  
  <rect x="160" y="590" width="80" height="25" rx="3" fill="#94a3b8" stroke="#64748b"/>
  <text x="200" y="607" text-anchor="middle" font-family="Arial" font-size="10" fill="#1e293b">Vercel Deploy</text>
  
  <text x="150" y="635" text-anchor="middle" font-family="Arial" font-size="12" fill="#1e293b">
    65-85% Cost Reduction
  </text>
  
  <!-- KDS Transformation -->
  <rect x="300" y="550" width="250" height="100" rx="10" fill="#06b6d4" stroke="#0891b2" stroke-width="2"/>
  <text x="425" y="575" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">
    KDS Transformation
  </text>
  
  <text x="425" y="595" text-anchor="middle" font-family="Arial" font-size="12" fill="#cffafe">
    792 lines → 150 lines (81% reduction)
  </text>
  <text x="425" y="615" text-anchor="middle" font-family="Arial" font-size="12" fill="#cffafe">
    Monolith → Modular Architecture
  </text>
  <text x="425" y="635" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">
    Virtual Scrolling | State Management
  </text>
  
  <!-- Voice System -->
  <rect x="600" y="550" width="250" height="100" rx="10" fill="#ec4899" stroke="#db2777" stroke-width="2"/>
  <text x="725" y="575" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">
    Voice Integration
  </text>
  
  <text x="725" y="595" text-anchor="middle" font-family="Arial" font-size="12" fill="#fce7f3">
    6 Command Types | 90%+ Accuracy
  </text>
  <text x="725" y="615" text-anchor="middle" font-family="Arial" font-size="12" fill="#fce7f3">
    "Mark order 123 ready" → bumpOrder()
  </text>
  <text x="725" y="635" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">
    Kitchen-Optimized Processing
  </text>
  
  <!-- Security Badge -->
  <rect x="900" y="550" width="200" height="100" rx="10" fill="#059669" stroke="#047857" stroke-width="2"/>
  <text x="1000" y="575" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">
    Security Layer
  </text>
  
  <text x="1000" y="595" text-anchor="middle" font-family="Arial" font-size="12" fill="#d1fae5">
    Row Level Security (RLS)
  </text>
  <text x="1000" y="615" text-anchor="middle" font-family="Arial" font-size="12" fill="#d1fae5">
    Role-Based Access Control
  </text>
  <text x="1000" y="635" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">
    Input Sanitization | Auth Guards
  </text>
  
  <!-- Data Flow Arrows -->
  <!-- Frontend to API -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>
  
  <line x1="350" y1="200" x2="400" y2="200" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="375" y="195" text-anchor="middle" font-family="Arial" font-size="10" fill="#374151">API Calls</text>
  
  <!-- API to Real-Time -->
  <line x1="700" y1="200" x2="750" y2="200" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="725" y="195" text-anchor="middle" font-family="Arial" font-size="10" fill="#374151">Subscriptions</text>
  
  <!-- API to Modular Assembly -->
  <line x1="550" y1="300" x2="450" y2="350" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="500" y="320" text-anchor="middle" font-family="Arial" font-size="10" fill="#374151">Server Actions</text>
  
  <!-- Modular Assembly to Database -->
  <line x1="600" y1="425" x2="650" y2="425" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="625" y="420" text-anchor="middle" font-family="Arial" font-size="10" fill="#374151">Queries</text>
  
  <!-- External Services to API -->
  <line x1="250" y1="600" x2="400" y2="250" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="300" y="420" text-anchor="middle" font-family="Arial" font-size="10" fill="#374151" transform="rotate(-45 300 420)">Voice Processing</text>
  
  <!-- Performance Summary -->
  <rect x="50" y="700" width="1100" height="80" rx="10" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="1"/>
  <text x="600" y="725" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1e293b">
    Production Performance Metrics
  </text>
  
  <text x="200" y="750" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#059669">
    Bundle: 95% ↓
  </text>
  <text x="200" y="765" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    289MB → 15.5MB
  </text>
  
  <text x="400" y="750" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#059669">
    DB Queries: &lt;10ms
  </text>
  <text x="400" y="765" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    80-90% Cache Hit
  </text>
  
  <text x="600" y="750" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#059669">
    Real-Time: 99%+
  </text>
  <text x="600" y="765" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    Zero Memory Leaks
  </text>
  
  <text x="800" y="750" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#059669">
    Voice: 90%+ Accuracy
  </text>
  <text x="800" y="765" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    65-85% Cost Reduction
  </text>
  
  <text x="1000" y="750" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#059669">
    Scale: 1000+ Users
  </text>
  <text x="1000" y="765" text-anchor="middle" font-family="Arial" font-size="12" fill="#64748b">
    &lt;500ms Response
  </text>
</svg>